{"version":3,"sources":["../../src/__concat/domfx.js"],"names":["DomFx","Tag","tagName","document","createElement","create_id","S4","Math","random","toString","substring","DomHtml","domElement","Object","getPrototypeOf","prototype","default","dom","style","widthFloat","heightFloat","topFloat","bottomFloat","position","color","opacity","targetTop","get_float_pixels","body","clientHeight","targetBottom","FadeTime","Text","append","v","toLowerCase","o","x","y","ScaleTop","ScaleLeft","t","bottom","top","l","targetLeft","clientWidth","right","left","targetRight","parseFloat","px","py","Pos","ScaleX","Offset","offsetWidth","ScaleY","offsetHeight","round","X","Y","width","height","s","pct","indexOf","fontSize","fontFamily","innerText","background","p","padding","c","b","border","borderTop","borderLeft","borderBottom","borderRight","borderRadius","textAlign","VerticalAlign","LineHeight","cursor","portion","total","MagicDom","styleTargets","callerKey","undefined","key","value","easingArg_One","easingArg_Two","transitionCurve","EasingCurves","get","f","fun","complete","Bar","e","zIndex","backgroundSize","backgroundPosition","w","h","BarFill","BarDisplay","barDisplayArgs","args","inner","src","outer","outer_src","fill_width","fill_height","fill_color","Gamelab","defSize","CreateDom","innerDom","outerDom","Top","Left","Bottom","Right","fill","bar","color_or_src","css_border","portion_width","portion_height","float","dimen","HEIGHT","leftFloat","WIDTH","Caption","scale","ScaleSize","CaptionRow","selector","scaleX","MagicElipse","BorderRadius","MagicDomFadeable","TransitionCurve","fadeTime","in","out","remain","fadeValues","_in","_out","_remain","ComputeFade","timing","in_out_phase","console","dev","fadeDelays","$magicDom","computeValue","step_Index","stepLimit","floatPortionTotal","forEach","totalSteps","ceil","values","push","length","log","reverse","show","then","hide","seesaw","duration","callback","copy_values_in","slice","go","Css","pop","setTimeout","copy_values_out","delay","Numeric","appendChild","d","fadeInTime","fadeOutTime","n","mode","window","setInterval","number","text","__inst","show_interval","clearInterval","hide_interval","cb","Table","cols","th","dfx","tr","row_index","column_index","head","getElementsByTagName","innerHTML","GChar","TextBubble","create_dom","stay","setAttribute","backgroundColor","borderColor","paddingBottom","display","textContent","fadeIn","ImageStat","size","Vector","text_id","id","img_id","img","span","replace","marginTop","el","pixelFontSize","getElementById","verticalAlign","ImgStat","match","string_one","string_two","error","fc_upper","string","charAt","toUpperCase","lc_match","s1","s2","uc_two","$CURVES","Linear","None","Quadratic","In","Out","InOut","Cubic","Quartic","Quintic","quadratic","cubic","quartic","quintic","linear"],"mappings":"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","file":"domfx.js","sourcesContent":["/**************************\r\n *\r\n **************************/\r\nvar DomFx = {\r\n  Tag(tagName) {\r\n    return document.createElement(tagName);\r\n  },\r\n\r\n  create_id: function() {\r\n    var S4 = function() {\r\n      return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n    };\r\n    return (S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + S4() + S4());\r\n  },\r\n};\r\n;class DomHtml {\r\n\r\n  constructor(tagName) {\r\n\r\n    this.domElement = document.createElement(tagName || 'SPAN');\r\n\r\n    if (Object.getPrototypeOf(this) === DomHtml.prototype) {\r\n      this.default();\r\n    }\r\n\r\n  }\r\n  dom() {\r\n    return this.domElement;\r\n  }\r\n  style() {\r\n    return this.dom().style;\r\n  }\r\n  default () {\r\n\r\n    this.widthFloat = 0.5;\r\n    this.heightFloat = 0.5;\r\n\r\n    this.topFloat = 0.5;\r\n    this.bottomFloat = false;\r\n\r\n    this.domElement.style.position = 'absolute';\r\n    this.domElement.style.color = 'white';\r\n    this.domElement.style.opacity = 0;\r\n\r\n    if (this.bottomFloat == false) {\r\n      this.targetTop = this.get_float_pixels(this.topFloat, document.body.clientHeight);\r\n    } else {\r\n      this.targetBottom = this.get_float_pixels(this.bottomFloat, document.body.clientHeight);\r\n    }\r\n\r\n    this.FadeTime(250, 250);\r\n\r\n    this.Text('--DOMHtml--')\r\n    document.body.append(this.domElement);\r\n  }\r\n\r\n  Position(v) {\r\n\r\n    switch (v.toLowerCase()) {\r\n\r\n      case 'r':\r\n      case 'rel':\r\n      case 'relative':\r\n\r\n        this.style().position = 'relative';\r\n\r\n        break;\r\n\r\n      case 'a':\r\n      case 'abs':\r\n      case 'absolute':\r\n\r\n        this.style().position = 'absolute';\r\n\r\n        break;\r\n\r\n      case 'f':\r\n      case 'fix':\r\n      case 'fixed':\r\n\r\n        this.style().position = 'fixed';\r\n\r\n        break;\r\n\r\n      case 'stick':\r\n      case 'sticky':\r\n\r\n        this.style().position = 'sticky';\r\n\r\n        break;\r\n\r\n      case 's':\r\n      case 'static':\r\n\r\n        this.style().position = 'relative';\r\n\r\n        break;\r\n\r\n      default:\r\n\r\n        this.style().position = 'inherit';\r\n    }\r\n  }\r\n\r\n  Opacity(o) {\r\n    this.domElement.style.opacity = o;\r\n    return this;\r\n  }\r\n\r\n  ScalePos(x = 0, y = 0) {\r\n    this.ScaleTop(y);\r\n    this.ScaleLeft(x);\r\n  }\r\n\r\n  ScaleTop(t) {\r\n    this.targetTop = this.get_float_pixels(t, document.body.clientHeight);\r\n    this.domElement.style.bottom = 'auto';\r\n    this.domElement.style.top = this.targetTop;\r\n    return this;\r\n  }\r\n\r\n  ScaleLeft(l) {\r\n    this.targetLeft = this.get_float_pixels(l, document.body.clientWidth);\r\n    this.domElement.style.right = 'auto';\r\n    this.domElement.style.left = this.targetLeft;\r\n    return this;\r\n  }\r\n\r\n\r\n    ScaleBottom(v) {\r\n      this.targetBottom = this.get_float_pixels(v, document.body.clientHeight);\r\n      this.domElement.style.top = 'auto';\r\n      this.domElement.style.bottom = this.targetBottom;\r\n      return this;\r\n    }\r\n\r\n    ScaleRight(v) {\r\n      this.targetRight = this.get_float_pixels(v, document.body.clientWidth);\r\n      this.domElement.style.left = 'auto';\r\n      this.domElement.style.right = this.targetRight;\r\n      return this;\r\n    }\r\n\r\n\r\n\r\n\r\n    Top(v) {\r\n      v = parseFloat(v) + 'px';\r\n      this.domElement.style.top = v;\r\n      return this;\r\n    }\r\n\r\n    Left(v) {\r\n      v = parseFloat(v) + 'px';\r\n      this.domElement.style.left = v;\r\n      return this;\r\n    }\r\n\r\n\r\n    Bottom(v) {\r\n      v = parseFloat(v) + 'px';\r\n      this.domElement.style.bottom = v;\r\n        return this;\r\n      }\r\n\r\n    Right(v) {\r\n      v = parseFloat(v) + 'px';\r\n      this.domElement.style.right = v;\r\n        return this;\r\n      }\r\n\r\n\r\n\r\n\r\n  ScaleX(x) {\r\n    this.targetLeft = this.get_float_pixels(x, document.body.clientWidth);\r\n    this.domElement.style.right = 'auto';\r\n    this.domElement.style.left = this.targetLeft;\r\n    return this;\r\n  }\r\n  ScaleY(y) {\r\n    this.targetTop = this.get_float_pixels(y, document.body.clientHeight);\r\n    this.domElement.style.bottom = 'auto';\r\n    this.domElement.style.top = this.targetTop;\r\n    return this;\r\n  }\r\n\r\n  Offset(x, y) {\r\n    var px = parseFloat(this.domElement.style.left),\r\n      py = parseFloat(this.domElement.style.top);\r\n    this.Pos(px + x, py + y);\r\n    return this;\r\n  }\r\n\r\n  CenterPos() {\r\n    this.ScaleX(0.5);\r\n    this.Offset(this.domElement.offsetWidth / 2 * -1, 0);\r\n\r\n    this.ScaleY(0.5);\r\n    this.Offset(0, this.domElement.offsetHeight / 2 * -1);\r\n\r\n    return this;\r\n  }\r\n\r\n  X(x) {\r\n    this.targetLeft = Math.round(x) + 'px';\r\n    this.domElement.style.right = 'auto';\r\n    this.domElement.style.left = this.targetLeft;\r\n    return this;\r\n  }\r\n\r\n  Y(y) {\r\n    this.targetTop = Math.round(y) + 'px';\r\n    this.domElement.style.bottom = 'auto';\r\n    this.domElement.style.top = this.targetTop;\r\n    return this;\r\n  }\r\n\r\n  ScalePos(x, y) {\r\n    this.ScaleX(x);\r\n    this.ScaleY(y);\r\n    return this;\r\n  }\r\n\r\n  Pos(x, y) {\r\n    this.X(x);\r\n    this.Y(y);\r\n    return this;\r\n  }\r\n\r\n  Size(x, y) {\r\n    this.style().width = x + 'px';\r\n    this.style().height = y + 'px';\r\n    return this;\r\n  }\r\n\r\n  ScaleSize(s) {\r\n    var pct = this.height / this.width;\r\n    this.width = this.get_float_pixels(s, document.body.clientWidth);\r\n    this.height = Math.round(this.width * pct);\r\n    return this;\r\n  }\r\n\r\n  FontSize(v) {\r\n    v = v + '';\r\n    if (v.indexOf('px') == -1 && v.indexOf('em') == -1 && v.indexOf('%') == -1) {\r\n      //assume px:\r\n      v += 'px';\r\n    }\r\n    this.domElement.style.fontSize = v;\r\n    return this;\r\n  }\r\n\r\n  FontFamily(v) {\r\n    v = v + '';\r\n    this.domElement.style.fontFamily = v;\r\n    return this;\r\n  }\r\n\r\n  Text(v) {\r\n    v = v + '';\r\n    this.domElement.innerText = v;\r\n    return this;\r\n  }\r\n\r\n  Background(v) {\r\n    this.domElement.style.background = v;\r\n    return this;\r\n  }\r\n\r\n  Padding(p) {\r\n\r\n    p = parseFloat(p) + 'px';\r\n\r\n    this.domElement.style.padding = p;\r\n\r\n    return this;\r\n\r\n  }\r\n\r\n  Color(c) {\r\n    this.domElement.style.color = c;\r\n    return this;\r\n  }\r\n\r\n  TextColor(c) {\r\n    this.domElement.style.color = c;\r\n    return this;\r\n  }\r\n\r\n  Border(b) {\r\n    this.domElement.style.border = b;\r\n    return this;\r\n  }\r\n\r\n  BorderTop(b) {\r\n    this.domElement.borderTop = b;\r\n    return this;\r\n  }\r\n  BorderLeft(b) {\r\n    this.domElement.borderLeft = b;\r\n    return this;\r\n  }\r\n  BorderBottom(b) {\r\n    this.domElement.borderBottom = b;\r\n    return this;\r\n  }\r\n  BorderRight(b) {\r\n    this.domElement.borderRight = b;\r\n    return this;\r\n  }\r\n\r\n  BorderRadius(v) {\r\n    this.style().borderRadius = v;\r\n    return this;\r\n  }\r\n\r\n  TextAlign(v) {\r\n    this.style().textAlign = v;\r\n    return this;\r\n  }\r\n\r\n  VerticalAlign(v) {\r\n\r\n    this.style().VerticalAlign = v;\r\n    return this;\r\n  }\r\n\r\n  LineHeight(v) {\r\n\r\n    this.style().LineHeight = v;\r\n    return this;\r\n  }\r\n\r\n  Cursor(v) {\r\n    this.domElement.style.cursor = v;\r\n    return this;\r\n  }\r\n\r\n  //Math helpers / CSS ::\r\n\r\n  get_float_pixels(portion, total) {\r\n    return Math.round(portion * total) + 'px';\r\n  }\r\n\r\n}\r\n;\r\n\r\nclass MagicDom extends DomHtml //to do apply a super object 'Extra'\r\n{\r\n  constructor(tagName) {\r\n    super(tagName || 'SPAN');\r\n    this.styleTargets = {};\r\n    this.callerKey = undefined; //track the last called function\r\n  }\r\n    Css(key, value) {\r\n      for (var x in this.style()) {\r\n        if (x.toLowerCase() == key.toLowerCase())\r\n          this.style()[key] = value;\r\n      }\r\n      return this;\r\n    }\r\n      StyleTarget(key, value) {\r\n        this.styleTargets[key] = value;\r\n        return this;\r\n      }\r\n  TransitionCurve(easingArg_One, easingArg_Two) {\r\n    this.transitionCurve = typeof easingArg_One == 'function' ? easingArg_One :\r\n      EasingCurves.get(easingArg_One, easingArg_Two);\r\n    return this;\r\n  }\r\n\r\n  then(f) {\r\n    this[this.callerKey + '_' + 'complete'] = f;\r\n    return this;\r\n  }\r\n\r\n  onComplete(fun) {\r\n    this.complete = fun;\r\n    return this;\r\n  }\r\n\r\n\r\n\r\n      ScaleTop(t) {\r\n        this.targetTop = this.get_float_pixels(t, document.body.clientHeight);\r\n        this.domElement.style.bottom = 'auto';\r\n        this.domElement.style.top = this.targetTop;\r\n        return this;\r\n      }\r\n\r\n      ScaleLeft(l) {\r\n        this.targetLeft = this.get_float_pixels(l, document.body.clientWidth);\r\n        this.domElement.style.right = 'auto';\r\n        this.domElement.style.left = this.targetLeft;\r\n        return this;\r\n      }\r\n\r\n\r\n    ScaleBottom(v) {\r\n      this.targetBottom = this.get_float_pixels(v, document.body.clientHeight);\r\n      this.domElement.style.top = 'auto';\r\n      this.domElement.style.bottom = this.targetBottom;\r\n      return this;\r\n    }\r\n\r\n    ScaleRight(v) {\r\n      this.targetRight = this.get_float_pixels(v, document.body.clientWidth);\r\n      this.domElement.style.left = 'auto';\r\n      this.domElement.style.right = this.targetRight;\r\n      return this;\r\n    }\r\n\r\n\r\n}\r\n;\r\n\r\nclass Bar extends DomHtml {\r\n  constructor(background, border) {\r\n    super();\r\n\r\n    this.background = background;\r\n    var e = document.createElement(\"SPAN\");\r\n    e.style.position = 'fixed';\r\n    e.style.background = this.background;\r\n    e.style.zIndex = \"9999\";\r\n    e.style.backgroundSize = \"100% 100%\";\r\n    e.style.backgroundPosition = \"center bottom\";\r\n\r\n    if (border) {\r\n      e.style.border = border;\r\n    }\r\n\r\n    this.domElement = e;\r\n  }\r\n\r\n  width(w) {\r\n    this.domElement.style.width = w;\r\n\r\n    return this;\r\n  }\r\n\r\n  height(h) {\r\n    this.domElement.style.height = h;\r\n\r\n    return this;\r\n  }\r\n}\r\n\r\n\r\n\r\nclass BarFill extends DomHtml {\r\n  constructor(background) {\r\n\r\n    super();\r\n\r\n    this.background = background;\r\n    var e = document.createElement(\"SPAN\");\r\n\r\n    e.style.background = this.background;\r\n\r\n    e.style.position = 'fixed';\r\n\r\n    e.style.zIndex = \"9995\";\r\n\r\n    this.domElement = e;\r\n\r\n  }\r\n\r\n  width(w) {\r\n    this.domElement.style.width = w;\r\n\r\n    return this;\r\n  }\r\n\r\n  height(h) {\r\n    this.domElement.style.height = h;\r\n\r\n    return this;\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n/**\r\n * Creates an instance of BarDisplay.\r\n * <info-bit>Gamelab.BarDisplay is an instantiable a health-bar;\r\n * Composed of one or more HTML/Dom objects;\r\n * Uses chainable function-calls.\r\n * See the code examples below.</info-bit>\r\n *\r\n * <iframe style='width:400px; height:450px; overflow:hidden;' src='../client/examples/js-class/BarDisplay.html'> </iframe>\r\n *\r\n *\r\n * @param   {BarDisplay= | Object=} barDisplayArgs the BarDisplay instance OR data to use when creating this instance of BarDisplay\r\n\r\n *\r\n *@returns {BarDisplay} an instance of Gamelab.BarDisplay\r\n *\r\n * */\r\n\r\n\r\nclass BarDisplay extends DomHtml { //show BarDisplay as in 'health-bar'\r\n\r\n  constructor(barDisplayArgs = {}) {\r\n    var args = barDisplayArgs || {};\r\n    super('DIV');\r\n\r\n    this.border = args.border || \"none\";\r\n    this.inner = args.src || args.inner || 'darkorange';\r\n    this.outer = args.outer_src || args.outer || 'transparent';\r\n    this.width = args.width + '' || args.fill_width + '';\r\n\r\n    if (this.width.indexOf('px') == -1) {\r\n      this.width += 'px';\r\n    }\r\n\r\n    this.height = args.height + '' || args.fill_height + '';\r\n    if (this.height.indexOf('px') == -1) {\r\n      this.height += 'px';\r\n    }\r\n\r\n    this.color = args.color || args.fill_color;\r\n    Gamelab.defSize();\r\n    this.CreateDom();\r\n\r\n  }\r\n\r\n  Top(v) {\r\n    this.targetTop = this.get_float_pixels(v, document.body.clientHeight);\r\n\r\n    for (var x in [this.innerDom, this.outerDom]) {\r\n      [this.innerDom, this.outerDom][x].Top(v);\r\n    }\r\n    return this;\r\n\r\n  }\r\n\r\n  Left(v) {\r\n    this.targetLeft = this.get_float_pixels(v, document.body.clientWidth);\r\n\r\n    for (var x in [this.innerDom, this.outerDom]) {\r\n      [this.innerDom, this.outerDom][x].Left(v);\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  Bottom(v) {\r\n    this.targetBottom = this.get_float_pixels(v, document.body.clientHeight);\r\n\r\n    for (var x in [this.innerDom, this.outerDom]) {\r\n      [this.innerDom, this.outerDom][x].Bottom(v);\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  Right(v) {\r\n    this.targetRight = this.get_float_pixels(v, document.body.clientWidth);\r\n\r\n    for (var x in [this.innerDom, this.outerDom]) {\r\n      [this.innerDom, this.outerDom][x].Right(v);\r\n    }\r\n    return this;\r\n  }\r\n\r\n\r\n  CreateDom() {\r\n    this.innerDom = new BarFill(this.inner).width(this.width || \"80px\").height(this.height || \"10px\");\r\n    this.fill = this.innerDom;\r\n    this.outerDom = new Bar(this.outer, this.border).width(this.width || \"80px\").height(this.height || \"10px\");\r\n    this.bar = this.outerDom;\r\n  }\r\n\r\n  Inner(color_or_src) {\r\n    this.inner = color_or_src;\r\n    this.CreateDom();\r\n    return this;\r\n  }\r\n\r\n  Outer(color_or_src) {\r\n    this.outer = color_or_src;\r\n    this.CreateDom();\r\n    return this;\r\n  }\r\n\r\n  Border(css_border) {\r\n    this.border = css_border;\r\n    this.CreateDom();\r\n    return this;\r\n  }\r\n\r\n  show() {\r\n    document.body.append(this.innerDom.domElement);\r\n    document.body.append(this.outerDom.domElement);\r\n    return this;\r\n  }\r\n\r\n  Show() { //same as lc show()\r\n    document.body.append(this.innerDom.domElement);\r\n    document.body.append(this.outerDom.domElement);\r\n    return this;\r\n  }\r\n\r\n  Width(w) {\r\n    this.portion_width(w);\r\n    return this;\r\n  }\r\n\r\n  Height(h) {\r\n    this.portion_height(h);\r\n    return this;\r\n  }\r\n\r\n  get_float_pixels(float, dimen) {\r\n    return Math.round(dimen * float) + 'px';\r\n  }\r\n\r\n  portion_top(v) {\r\n    this.fill.domElement.style.top = this.get_float_pixels(v || this.topFloat, Gamelab.HEIGHT);\r\n    this.bar.domElement.style.top = this.get_float_pixels(v || this.topFloat, Gamelab.HEIGHT);\r\n  }\r\n\r\n  portion_left(v) {\r\n    this.fill.domElement.style.left = this.get_float_pixels(v || this.leftFloat, Gamelab.WIDTH);\r\n    this.bar.domElement.style.left = this.get_float_pixels(v || this.leftFloat, Gamelab.WIDTH);\r\n  }\r\n\r\n  portion_width(w) {\r\n    this.fill.domElement.style.width = this.get_float_pixels(w || this.widthFloat, Gamelab.WIDTH);\r\n    this.bar.domElement.style.width = this.get_float_pixels(w || this.widthFloat, Gamelab.WIDTH);\r\n  }\r\n\r\n  portion_height(h) {\r\n    this.fill.domElement.style.height = this.get_float_pixels(h || this.heightFloat, Gamelab.HEIGHT);\r\n    this.bar.domElement.style.height = this.get_float_pixels(h || this.heightFloat, Gamelab.HEIGHT);\r\n  }\r\n\r\n  update(f) {\r\n    this.fill.domElement.style.width = this.get_float_pixels(f || 0, parseFloat(this.bar.domElement.style.width));\r\n  }\r\n}\r\n\r\n\r\nDomFx.BarDisplay = BarDisplay;\r\n;\r\n\r\n/***************************\r\n*   Incomplete Elements (html)\r\n*\r\n* Wanted Elements : Caption, various ImageSelects, etc...\r\n****************************/\r\n\r\n\r\nclass Caption extends  MagicDom {\r\n\r\n  constructor(src, scale){\r\n    super(src);\r\n    this.ScaleSize(scale || 1.0);\r\n  }\r\n\r\n}\r\n\r\n\r\nclass CaptionRow extends MagicDom {\r\n\r\n  constructor(src, scale){\r\n    super(src);\r\n    this.ScaleSize(scale || 1.0);\r\n  }\r\n\r\n  Borders(top, bottom, selector)\r\n  {\r\n\r\n  }\r\n\r\n  WidthPortion(scaleX)\r\n  {\r\n\r\n  }\r\n\r\n}\r\n;\r\n\r\nclass MagicElipse extends MagicDom\r\n{\r\n  constructor(args={}) {\r\n    super(args);\r\n    this.BorderRadius('50%');\r\n  }\r\n\r\n};\r\n;class MagicDomFadeable extends MagicDom //to do apply a super object 'Extra'\r\n{\r\n  constructor(tagName) {\r\n    super(tagName || 'SPAN');\r\n    this.domElement = document.createElement(tagName);\r\n    this.default();\r\n    this.TransitionCurve('linear', 'none');\r\n    this.callerKey = undefined; //track the last called function\r\n\r\n\r\n    this.fadeTime = {in:2500, out:2500, remain:0};\r\n    this.fadeValues = { in:[], out:[] };\r\n  }\r\n\r\n  TransitionCurve(easingArg_One, easingArg_Two) {\r\n    this.transitionCurve = typeof easingArg_One == 'function' ? easingArg_One :\r\n      EasingCurves.get(easingArg_One, easingArg_Two);\r\n    return this;\r\n  }\r\n\r\n  FadeTiming(_in, _out, _remain) {\r\n    this.fadeTime = { in: _in || 2500,\r\n      out: _out || _in || 2500,\r\n      remain: _remain || 0\r\n    }\r\n\r\n    this.ComputeFade();\r\n\r\n    return this;\r\n  }\r\n\r\n  DelayFade(timing, in_out_phase) {\r\n    console.dev('FadeDelay() in_out_phase = \"in\" || \"out\"');\r\n\r\n    this.fadeDelays = { in: in_out_phase == 'in' ? timing : 0,\r\n      out: in_out_phase == 'out' ? timing : 0\r\n    }\r\n    return this;\r\n  }\r\n\r\n  ComputeFade() {\r\n\r\n    //create an html element\r\n    var $magicDom = this;\r\n\r\n    let computeValue = function(step_Index, stepLimit) {\r\n      var floatPortionTotal =\r\n        $magicDom.transitionCurve(step_Index / stepLimit);\r\n      //x / totalSteps be the float-time-portion 0-1.0 of the transition in linear time\r\n\r\n      return floatPortionTotal * 1.0;\r\n      //1.0 --opacity 1.0 be the total\r\n    };\r\n\r\n    ['in', 'out'].forEach(function(key) {\r\n\r\n      var totalSteps = Math.ceil($magicDom.fadeTime[key] / 10); //total # of steps\r\n\r\n      var values = [];\r\n\r\n      for (var x = 0; x < totalSteps; x+= 1) {\r\n        values.push(computeValue(x, totalSteps));\r\n\r\n        if(key == 'out')\r\n        {\r\n          var v = values[values.length - 1];\r\n          values[values.length - 1] = 1.0 - v;\r\n        }\r\n      }\r\n\r\n      console.log(values.length);\r\n\r\n      $magicDom.fadeValues[key] = values.reverse(); //fadeValues[in || out] is set to the result--array\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  seesaw(){\r\n\r\n    var $magicDom = this;\r\n\r\n    $magicDom.show().then(function() {\r\n\r\n      $magicDom.hide().then(function() {\r\n\r\n        $magicDom.seesaw();\r\n\r\n      })\r\n    })\r\n  }\r\n\r\n  show(duration, callback) {\r\n\r\n    var $magicDom = this;\r\n\r\n    this.callerKey = 'show';\r\n\r\n    this['show_complete'] = function(){};\r\n\r\n    callback = callback || function() {};\r\n\r\n    var copy_values_in = $magicDom.fadeValues.in.slice();\r\n\r\n    function go() {\r\n      if (copy_values_in.length > 1) {\r\n        $magicDom.Css('opacity', copy_values_in.pop());\r\n        setTimeout(function() {\r\n          go();\r\n        }, 10);\r\n      } else {\r\n        callback();\r\n        if ($magicDom[$magicDom.callerKey + '_' + 'complete'])\r\n          $magicDom[$magicDom.callerKey + '_' + 'complete']();\r\n      }\r\n    }\r\n\r\n    go();\r\n    return this;\r\n  }\r\n\r\n  hide(duration, callback) {\r\n    var $magicDom = this;\r\n    this.callerKey = 'hide';\r\n\r\n    callback = callback || function() {};\r\n\r\n      this['hide_complete'] = function(){};\r\n\r\n    var copy_values_out = $magicDom.fadeValues.out.slice();\r\n\r\n    function go() {\r\n      if (copy_values_out.length > 1) {\r\n        $magicDom.Css('opacity', copy_values_out.pop());\r\n        setTimeout(function() {\r\n          go();\r\n        }, 10);\r\n      } else {\r\n        callback();\r\n        if ($magicDom[$magicDom.callerKey + '_' + 'complete'])\r\n          $magicDom[$magicDom.callerKey + '_' + 'complete']();\r\n      }\r\n    }\r\n\r\n    delay(go, this.fadeTime.remain);\r\n\r\n    return this;\r\n  }\r\n\r\n  then(f) {\r\n    this[this.callerKey + '_' + 'complete'] = f;\r\n    return this;\r\n  }\r\n}\r\n;\r\n/**\r\n * Creates an instance of ...\r\n\r\n * */\r\n\r\nclass Numeric extends DomHtml {\r\n\r\n  constructor() {\r\n    super();\r\n    this.domElement = document.createElement('SPAN');\r\n    document.body.appendChild(this.domElement);\r\n    this.default();\r\n  }\r\n\r\n  Duration(d) {\r\n    this.duration = d;\r\n    return this;\r\n  }\r\n\r\n  FadeTime(fadeInTime, fadeOutTime) {\r\n    this.fadeTime = { in: fadeInTime || 250,\r\n      out: fadeOutTime || 250\r\n    }\r\n    return this;\r\n  }\r\n\r\n  Visible(){\r\n\r\n    this.style.opacity = 1.0;\r\n    return this;\r\n\r\n  }\r\n\r\n  get_float_pixels(float, dimen) {\r\n    return Math.round(dimen * float) + 'px';\r\n  }\r\n\r\n  onComplete(fun) {\r\n    this.complete = fun;\r\n    return this;\r\n  }\r\n\r\n  Number(n){\r\n\r\n    this.domElement.innerText = n;\r\n    return this;\r\n  }\r\n\r\n  Countdown(mode){\r\n\r\n    var dom = this;\r\n\r\n    if(mode == 'seconds')\r\n    window.setInterval(function(){\r\n\r\n        var number = parseFloat(dom.domElement.innerText);\r\n\r\n        number -= 1;\r\n\r\n        dom.domElement.innerText = number;\r\n\r\n    }, 1000);\r\n\r\n    return this;\r\n\r\n  }\r\n\r\n  show(text, duration) {\r\n\r\n    //create an html element\r\n    var __inst = this;\r\n    if (this.show_interval) {\r\n      clearInterval(this.show_interval);\r\n    }\r\n\r\n    this.show_interval = setInterval(function() {\r\n      var o = parseFloat(__inst.domElement.style.opacity);\r\n      if (o < 1.0) {\r\n        o += 1.0 * (20 / __inst.fadeTime.in);\r\n        __inst.domElement.style.opacity = o;\r\n      }\r\n\r\n    }, 20);\r\n\r\n    setTimeout(function() {\r\n\r\n      clearInterval(__inst.show_interval);\r\n\r\n      __inst.hide_interval = setInterval(function() {\r\n        var o = parseFloat(__inst.domElement.style.opacity);\r\n\r\n        if (o > 0) {\r\n          o -= 1.0 * (20 / __inst.fadeTime.out);\r\n\r\n          __inst.domElement.style.opacity = o;\r\n        } else {\r\n\r\n          __inst.domElement.style.opacity = o;\r\n\r\n          if (typeof(__inst.complete) == 'function') {\r\n            __inst.complete();\r\n          }\r\n\r\n          clearInterval(__inst.hide_interval);\r\n        }\r\n      }, 20);\r\n    }, __inst.duration);\r\n    return this;\r\n  }\r\n\r\n  then(cb) {\r\n    this.complete = cb || function() {};\r\n  }\r\n\r\n}\r\n;\r\n\r\nclass Table extends MagicDom {\r\n  constructor(args={}) {\r\n    super(args);\r\n\r\n      this.domElement = document.createElement('table');\r\n\r\n      this.cols = [];\r\n  }\r\n\r\n  Heading(v){\r\n    var th = dfx.Tag('TH');\r\n\r\n  }\r\n\r\n  addRow(){\r\n    var tr = dfx.Tag('TR');\r\n\r\n  }\r\n\r\n  addData(row_index, column_index) {\r\n        var tr = dfx.Tag('TD');\r\n\r\n  }\r\n};\r\n;\r\n/**\r\n * Creates an instance of TextDisplay.\r\n *\r\n * <info-bit>Gamelab.TextDisplay shows text on-screen;\r\n * Composed of one or more HTML/Dom objects;\r\n * Uses chainable function-calls.\r\n * See the code examples below.</info-bit>\r\n *\r\n * <iframe style='width:400px; height:450px; overflow:hidden;' src='../client/examples/js-class/TextDisplay.html'> </iframe>\r\n *\r\n *\r\n * @param   {Text | Object=} textDisplayArg the textDisplay instance OR data to use when creating this instance of TextDisplay\r\n\r\n *\r\n *@returns {Text} an instance of Gamelab.TextDisplay\r\n *\r\n * */\r\n\r\n\r\n\r\n var head = document.head || document.getElementsByTagName('head')[0];\r\n\r\n head.innerHTML += '<style>'+\r\n     '\\r\\n' +\r\n     '.speech-triangle { overflow:visible; }' +\r\n     '.speech-triangle:before { content: \"\";' +\r\n 'position: absolute;' +\r\n         'z-index:-1;'+\r\n 'width: 0;' +\r\n 'height: 0;' +\r\n 'left: 38px;' +\r\n     'bottom: -18px;' +\r\n 'border-width: 8px 8px;' +\r\n 'border-style: solid;' +\r\n 'border-color: #fff transparent transparent #fff;' +\r\n     ' } .farLeft:after{ right:0px; left:20px; } .farRight:after{ left:0px; right:20px; }   .flipX:after{  -moz-transform: scaleX(-1); -webkit-transform: scaleX(-1); -o-transform: scaleX(-1); transform: scaleX(-1); -ms-filter: fliph; /*IE*/ filter: fliph; /*IE*/  } ' +\r\n    ' </style>';\r\n\r\n\r\n\r\n\r\nclass Text extends DomHtml {\r\n\r\n  constructor() {\r\n    super();\r\n    document.body.append(this.domElement);\r\n    this.default();\r\n  }\r\n\r\n  Duration(d) {\r\n    this.duration = d;\r\n    return this;\r\n  }\r\n\r\n  FadeTime(fadeInTime, fadeOutTime) {\r\n    this.fadeTime = { in: fadeInTime || 250,\r\n      out: fadeOutTime || 250\r\n    }\r\n    return this;\r\n  }\r\n\r\n  get_float_pixels(float, dimen) {\r\n    return Math.round(dimen * float) + 'px';\r\n  }\r\n\r\n  onComplete(fun) {\r\n    this.complete = fun;\r\n    return this;\r\n  }\r\n\r\n  show(text, duration) {\r\n\r\n    //create an html element\r\n    var __inst = this;\r\n    if (this.show_interval) {\r\n      clearInterval(this.show_interval);\r\n    }\r\n\r\n    this.show_interval = setInterval(function() {\r\n      var o = parseFloat(__inst.domElement.style.opacity);\r\n      if (o < 1.0) {\r\n        o += 1.0 * (20 / __inst.fadeTime.in);\r\n        __inst.domElement.style.opacity = o;\r\n      }\r\n\r\n    }, 20);\r\n\r\n    setTimeout(function() {\r\n\r\n      clearInterval(__inst.show_interval);\r\n\r\n      __inst.hide_interval = setInterval(function() {\r\n        var o = parseFloat(__inst.domElement.style.opacity);\r\n\r\n        if (o > 0) {\r\n          o -= 1.0 * (20 / __inst.fadeTime.out);\r\n\r\n          __inst.domElement.style.opacity = o;\r\n        } else {\r\n\r\n          __inst.domElement.style.opacity = o;\r\n\r\n          if (typeof(__inst.complete) == 'function') {\r\n            __inst.complete();\r\n          }\r\n\r\n          clearInterval(__inst.hide_interval);\r\n        }\r\n      }, 20);\r\n    }, __inst.duration);\r\n    return this;\r\n  }\r\n\r\n  then(cb) {\r\n    this.complete = cb || function() {};\r\n  }\r\n\r\n}\r\n\r\n\r\nclass GChar extends Text{\r\n  constructor(args={}) {\r\n    super(args);\r\n  }\r\n}\r\n\r\n\r\nDomFx.Text = Text;\r\n\r\n\r\n\r\n\r\n\r\nclass TextBubble extends Text {\r\n\r\n    constructor(args = {}) //merely an element of text\r\n    {\r\n        super(args);\r\n\r\n        this.opacity = args.opacity || 0.85;\r\n\r\n        this.text = '';\r\n\r\n        this.FadeTime(250, 250);\r\n\r\n        this.create_dom();\r\n\r\n        this.duration = args.stay || args.duration || this.text.length * 100;\r\n\r\n    }\r\n\r\n    create_dom() {\r\n        this.domElement = document.createElement('SPAN');\r\n\r\n        this.domElement.setAttribute('class', 'speech-triangle')\r\n\r\n        this.domElement.style.textAlign = \"left\"; //reset to left\r\n\r\n        this.domElement.style.opacity = this.opacity;\r\n\r\n        this.domElement.style.position = \"fixed\";\r\n\r\n        this.domElement.style.color = this.color || 'white';\r\n\r\n        if (this.backgroundColor == 'transparent') {\r\n            this.backgroundColor = 'black';\r\n        }\r\n\r\n        this.domElement.style.backgroundColor = this.backgroundColor || 'black';\r\n\r\n        this.domElement.style.borderRadius = '0.4em';\r\n\r\n        this.domElement.style.border = this.border || '1px outset snow';\r\n\r\n        this.domElement.style.borderColor = this.borderColor || 'snow';\r\n\r\n        this.domElement.style.padding = \"5px\";\r\n\r\n        this.domElement.style.paddingBottom = \"2px\";\r\n\r\n        this.domElement.style.height = 'auto'; //auto-wrap to text\r\n\r\n        this.domElement.style.top = Math.round(document.body.clientHeight * this.topFloat) + 'px';\r\n\r\n        this.domElement.style.left = Math.round(document.body.clientWidth * this.leftFloat) + 'px';\r\n\r\n        this.domElement.style.width = 'auto';\r\n\r\n        this.domElement.style.height = 'auto';\r\n\r\n        this.domElement.style.fontFamily = this.fontFamily;\r\n\r\n        this.domElement.style.fontSize = this.fontSize;\r\n\r\n        this.domElement.style.display = \"block\";\r\n\r\n        this.domElement.style.textAlign = \"center\";\r\n\r\n        this.domElement.style.zIndex = \"9999\";\r\n\r\n        this.domElement.innerText = this.text;\r\n\r\n        this.domElement.textContent = this.text;\r\n\r\n        this.domElement.style.opacity = this.fadeIn ? 0 : this.opacity;\r\n\r\n        document.body.append(this.domElement);\r\n    }\r\n}\r\n\r\nDomFx.TextBubble = TextBubble;\r\n;/**\r\n * Creates an instance of ImStat:\r\n\r\n * <info-bit>Gamelab.ImStat displays item-counts or stats on the screen.\r\n * Composed of one or more HTML/Dom objects;\r\n * Uses chainable function-calls.\r\n * See the code examples below.</info-bit>\r\n *\r\n * <iframe style='width:400px; height:450px; overflow:hidden;' src='../client/examples/js-class/ImStat.html'> </iframe>\r\n *\r\n *\r\n * @param   {ImageStat= | Object=} ImStatArgs the ImStat instance OR data to use when creating this instance of ImStat\r\n\r\n *\r\n *@returns {ImageStat} an instance of Gamelab.ImStat\r\n *\r\n * */\r\n\r\n\r\nclass ImageStat extends DomHtml {\r\n\r\n  constructor(args = {}) {\r\n\r\n    super();\r\n\r\n    this.src = args.src || \"__NONE\";\r\n\r\n    this.size = args.size || new Gamelab.Vector(50, 50);\r\n\r\n    this.text_id = DomFx.create_id();\r\n\r\n    this.id = DomFx.create_id();\r\n\r\n    this.img_id = DomFx.create_id();\r\n\r\n    this.create_dom();\r\n\r\n  }\r\n\r\n  Src(src) {\r\n    this.src = src;\r\n    this.img.setAttribute('src', src);\r\n\r\n\r\n    return this;\r\n\r\n  }\r\n\r\n  Source(src) //same as Src\r\n  {\r\n    this.src = src;\r\n    this.img.setAttribute('src', src);\r\n    return this;\r\n  }\r\n\r\n  Text(t) {\r\n    this.span.innerHTML = t;\r\n    this.span.textContent = t;\r\n    return this;\r\n  }\r\n\r\n  MarginTop(v)\r\n  {\r\n    v = v + '';\r\n    v = v.replace('px', '')\r\n    this.domElement.style.marginTop = v + 'px';\r\n    return this;\r\n  }\r\n\r\n  TextMarginTop(v) {\r\n    v = v + '';\r\n    if (v.indexOf('px') == -1 && v.indexOf('em') == -1 && v.indexOf('%') == -1) {\r\n      //assume px:\r\n      v += 'px';\r\n    }\r\n\r\n    var el = this.span;\r\n\r\n    el.style.marginTop = v;\r\n\r\n    return this;\r\n\r\n  }\r\n\r\n\r\n  Size(x, y) {\r\n    this.size = new Gamelab.Vector(x, y || x);\r\n    this.img.style.width = this.size.x + 'px';\r\n    this.img.style.height = 'auto';\r\n\r\n    return this;\r\n  }\r\n\r\n\r\n  FontSize(v) {\r\n\r\n    v = v + \"\";\r\n\r\n    if (v.indexOf('px') == -1 && v.indexOf('em') == -1 && v.indexOf('%') == -1) {\r\n      //assume px:\r\n      v += 'px';\r\n\r\n    }\r\n\r\n    this.pixelFontSize = v;\r\n\r\n    this.domElement.style.fontSize = v;\r\n\r\n    return this;\r\n  }\r\n\r\n  FontFamily(v) {\r\n    this.domElement.style.fontFamily = v;\r\n    return this;\r\n  }\r\n\r\n  setValue(value) {\r\n    document.getElementById(this.text_id);\r\n    return this;\r\n  }\r\n\r\n\r\n  get_id() {\r\n    return this.id;\r\n  }\r\n\r\n  update(v) {\r\n    var e = document.getElementById(this.text_id);\r\n    this.text = v + \"\";\r\n    e.innerText = this.text;\r\n    return this;\r\n  }\r\n\r\n  create_dom() {\r\n    //create an html element\r\n    this.domElement = document.createElement('DIV');\r\n\r\n    this.domElement.style.position = 'fixed';\r\n\r\n    this.domElement.setAttribute('class', 'gameStack-stats');\r\n\r\n    this.img = document.createElement('IMG');\r\n\r\n    this.img.id = this.img_id;\r\n\r\n    this.img.src = this.src;\r\n\r\n    this.img.style.width = this.size.x + 'px';\r\n\r\n    this.img.style.height = 'auto';\r\n\r\n    document.body.append(this.domElement);\r\n\r\n    this.domElement.append(this.img);\r\n\r\n    this.span = document.createElement('SPAN');\r\n\r\n    this.span.id = this.text_id;\r\n\r\n    this.span.style.padding = '2px';\r\n\r\n    this.span.style.float = \"right\";\r\n\r\n    this.span.style.height = this.size.y + 'px';\r\n\r\n    this.span.style.display = 'table-cell';\r\n\r\n    this.span.style.verticalAlign = 'middle';\r\n\r\n    this.span.style.fontSize = 'inherit';\r\n\r\n    this.span.textContent = this.text;\r\n\r\n    this.span.style.color = 'snow';\r\n\r\n    this.domElement.append(this.span);\r\n\r\n    this.domElement.style.color = this.color;\r\n\r\n    //this.domElement.style.padding = \"10px\";\r\n\r\n    this.domElement.style.fontFamily = this.fontFamily;\r\n\r\n    this.domElement.style.fontSize = this.fontSize;\r\n\r\n    this.domElement.style.zIndex = \"9999\";\r\n\r\n    this.domElement.id = this.id;\r\n\r\n    return this;\r\n  }\r\n\r\n}\r\n\r\nDomFx.ImageStat = ImageStat;\r\n\r\nDomFx.ImgStat = ImageStat;\r\n;var EasingCurves = { //ALL HAVE INPUT AND OUTPUT OF: 0-1.0\r\n\r\n  match: function(string_one, string_two) {\r\n    if (string_one == 'match')\r\n      return console.error('cannot refer to match function within match function.')\r\n\r\n    if (!string_two && typeof this[string_one] == 'function')\r\n      return this[string_one];\r\n\r\n    let fc_upper = function(string) {\r\n      var s = string.toLowerCase();\r\n      return s.charAt(0).toUpperCase() + s.slice(1);\r\n    };\r\n\r\n    let lc_match = function(s1, s2) {\r\n      return s1.toLowerCase() == s2.toLowerCase();\r\n    };\r\n\r\n    let uc_two = fc_upper(string_two);\r\n\r\n    for (var x in this) {\r\n\r\n      if (typeof this[x] == 'object') {\r\n        if (lc_match(x, string_one) && string_two && typeof this[x][uc_two] == 'function')\r\n          return this[x][uc_two];\r\n      }\r\n    }\r\n    return false;\r\n\r\n  },\r\n\r\n  get: function(string_one, string_two) {\r\n\r\n    var $CURVES = this;\r\n\r\n    return this.match(string_one, string_two);\r\n  },\r\n\r\n  // no easing, no acceleration\r\n  Linear: {\r\n    None: function(t) {\r\n      return t;\r\n    }\r\n  },\r\n\r\n  Quadratic: {\r\n    In: function(t) {\r\n      return t * t;\r\n    },\r\n    Out: function(t) {\r\n      return t * (2 - t);\r\n    },\r\n    InOut: function(t) {\r\n      return t < .5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\r\n    }\r\n  },\r\n\r\n  Cubic: {\r\n    In: function(t) {\r\n      return t * t * t;\r\n    },\r\n    Out: function(t) {\r\n      return (--t) * t * t + 1;\r\n    },\r\n    InOut: function(t) {\r\n      return t < .5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\r\n    }\r\n  },\r\n\r\n  Quartic: {\r\n    In: function(t) {\r\n      return t * t * t * t;\r\n    },\r\n    Out: function(t) {\r\n      return 1 - (--t) * t * t * t;\r\n    },\r\n    InOut: function(t) {\r\n      return t < .5 ? 8 * t * t * t * t : 1 - 8 * (--t) * t * t * t;\r\n    }\r\n  },\r\n\r\n  Quintic: {\r\n    In: function(t) {\r\n      return t * t * t * t * t;\r\n    },\r\n    Out: function(t) {\r\n      return 1 + (--t) * t * t * t * t;\r\n    },\r\n    InOut: function(t) {\r\n      return t < .5 ? 16 * t * t * t * t * t : 1 + 16 * (--t) * t * t * t * t;\r\n    }\r\n  }\r\n\r\n  ,\r\n\r\n  quadratic: function(t) {\r\n    return t < .5 ? 2 * t * t : -1 + (4 - 2 * t) * t\r\n  },\r\n\r\n  cubic: function(t) {\r\n    return t < .5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1\r\n  },\r\n\r\n  quartic: function(t) {\r\n    return t < .5 ? 8 * t * t * t * t : 1 - 8 * (--t) * t * t * t\r\n  },\r\n\r\n  quintic: function(t) {\r\n    return t < .5 ? 16 * t * t * t * t * t : 1 + 16 * (--t) * t * t * t * t\r\n  },\r\n\r\n  linear: function(t) {\r\n    return t;\r\n  } //provided for consistency / in case 'linear' is needed\r\n\r\n};\r\n"]}